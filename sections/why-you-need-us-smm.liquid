{%- liquid
  assign title_start = section.settings.heading_start
  assign title_feature = section.settings.heading_featured
  assign title_end = section.settings.heading_end
  assign sub_text = section.settings.sub_text
  assign desktop_margin_top = section.settings.desktop_margin_top
  assign desktop_margin_bottom = section.settings.desktop_margin_bottom
  assign mobile_margin_top = section.settings.mobile_margin_top
  assign mobile_margin_bottom = section.settings.mobile_margin_bottom
-%}

<style>
   .why_us_section {
     margin-top: {{ mobile_margin_top | append: 'px' }};
     margin-bottom: {{ mobile_margin_bottom | append: 'px' }};
   }
   .why_us_section .title_section {
     color: #845ec2;
     text-align: center;
     font-weight: 700;
   }
   .why_us_section .title_section .heading {
     font-size: clamp(26px, 4vw, 40px);
     margin-bottom: 10px;
     /* color: #845ec2; */
     line-height: 1.2;
   }
   .why_us_section .title_section p {
     font-size: clamp(16px, 2vw, 18px);
     color: #845ec2;
     font-weight: 700;
     margin-top: 5px;
   }
   .swiper_container {
     border: 5px solid black;
     border-radius: 30px;
     padding: 15px;
     box-shadow: 7px 7px black;
     justify-content: center;
     position: relative;
   }
   .why_us_section .row {
     display: flex;
     flex-direction: column;
     gap: 15px;
     height: 100%;
   }
   .why_us_section .row .right {
     border-radius: 20px;
     flex-shrink: 0;
     width: 100%;
   }
   .why_us_section .row .right img{
    border-radius: 20px;
   }
   .why_us_section .row .left {
     display: flex;
     flex-direction: column;
     justify-content: start;
     background-color: #000;
     border-radius: 20px;
     padding: 20px;
     height: auto;
     flex-grow: 1;
   }
   .why_us_section .row .left .content p{
     color: white;
   }
   .why_us_section .left .num{
       line-height: 1;
       color: #845ec2;
       font-size: 60px;
       text-align: start;
       font-weight: 700;
       margin: 5px;
       transition: transform 0.6s ease-in-out;
   }
   .swiper {
      width: 100%;
      height: 100%;
    }
    .swiper-slide img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
   .swiper-button-prev,
   .swiper-button-next {
     display: flex;
     transform: translateY(-50%);
     margin: 50px;
     background: #845ec2;
     width: 35px !important;
     height: 35px !important;
     border-radius: 50%;
     box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.2);
     margin: 0 !important;
     z-index: 20;
     outline: none;
     border: none;
   }
   .swiper_container .swiper-button-prev{
     left: 0%;
   }
   .swiper_container .swiper-button-next{
     right: 0%;
   }
   .swiper-button-prev::after,
   .swiper-button-next::after {
     font-size: 18px !important;
     color: #ffffff !important;
     width: 100%;
     height: 100%;
     display: flex;
     justify-content: center;
     align-items: center;
     z-index: 20;
   }
   .h-full{
     height: 100%;
   }
   .why_us_section .swiper-slide{
     height: auto;
   }
   .why_us_section .content_wrapper{
     display: flex;
     flex-direction: column;
     gap: 20px;
   }
  .why_us_section .team_heading p {
     color: #845ec2;
     font-size: clamp(22px, 3vw, 30px);
     font-weight: 700;
     line-height: 1.3;
     margin: 0 5px;

   }
   .why_us_section .icon_block{
    position: absolute;
    bottom: 0%;
    left: 50%;
    transform: translateY(50%);
   }
   .why_us_section .icon_block i{
    color: #222222;
    font-size: 26px;
   }
   @media (min-width: 768px) {
     .why_us_section {
         margin-top: {{ desktop_margin_top | append: 'px' }};
         margin-bottom: {{ desktop_margin_bottom | append: 'px' }};
     }
     .why_us_section .row {
         flex-direction: row;
         gap: 25px;
     }
     .why_us_section .row .right {
        width: 60%;
     }
     .why_us_section .content_wrapper{
        flex-direction: column;
     }
     .why_us_section .team_heading p {
        margin: 0 10px;
     }
     .swiper-button-prev,
     .swiper-button-next {
         width: 40px !important;
         height: 40px !important;
     }
     .why_us_section .row .left {
         width: 40%;
         justify-content: center;
     }
     .why_us_section .swiper_container {
         margin: 30px 70px;
         padding: 30px;
     }
     .swiper_container .swiper-button-prev{
         left: -8%;
     }
     .swiper_container .swiper-button-next{
         right: -8%;
     }
     .why_us_section .icon_block{
        transform: translateY(50%);
     }
     .why_us_section .icon_block i{
        font-size: 40px;
     }
   }
   .why_us_button::after{
    display: none;
   }
   .why_us_button i{
    color: white;
   }
</style>
<section class="why_us_section">
  <div class="container container-{{ section.settings.container }}">
    <div class="title_section">
      <h2 class="heading">
        {{ title_start -}}
        <span class="halfStyled" data-content="{{title_feature}}">{{ title_feature }}</span>{{ title_end }}
      </h2>
      {%- if sub_text != blank -%}
        {{ sub_text }}
      {%- endif -%}
    </div>
    <div class="swiper_container">
      <div class="swiper why-need-us-swiper">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            {% liquid
              assign title = block.settings.title
              assign description = block.settings.description
              assign content_image = block.settings.image
            %}
            <div class="swiper-slide">
              <div class="h-full content_wrapper">
                <div class="row">
                  <div class="left">
                    <h3 class="num">{{- forloop.index -}}</h3>
                    <div class="content">
                      {{- description -}}
                    </div>
                  </div>
                  <div class="right relative">
                    <img src="{{ content_image | image_url  }}" alt="" height="" width="">
                    <div class="icon_block">
                      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                      <i class="fa-solid fa-xmark" aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
                <div class="team_heading">
                  <p>{{- title -}}</p>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
      <button class="swiper-button-prev swiper-button-white why_us_button">
        <i class="fa-solid fa-arrow-left"></i>
      </button>
      <button class="swiper-button-next swiper-button-white why_us_button">
        <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>
  </div>
</section>

<script defer>
  document.addEventListener('DOMContentLoaded', function () {
    var swiper = new Swiper('.why-need-us-swiper', {
      loop: true,
      spaceBetween: 25,
      navigation: {
        nextEl: '.swiper-button-next.why_us_button',
        prevEl: '.swiper-button-prev.why_us_button',
      },
    });
  });
</script>
{% schema %}
{
  "name": "Why You Need Us Smm",
  "settings": [
    {
      "type": "select",
      "id": "container",
      "label": "t:sections.layout.container.option",
      "default": "1770",
      "options": [
        {
          "value": "1170",
          "label": "t:sections.layout.container.option4"
        },
        {
          "value": "1370",
          "label": "t:sections.layout.container.option8"
        },
        {
          "value": "1470",
          "label": "t:sections.layout.container.option5"
        },
        {
          "value": "1570",
          "label": "t:sections.layout.container.option6"
        },
        {
          "value": "1770",
          "label": "t:sections.layout.container.option3"
        },
        {
          "value": "full",
          "label": "t:sections.layout.container.option2"
        }
      ]
    },
    {
      "type": "text",
      "id": "heading_start",
      "label": "Title Start",
      "default": "Here"
    },
    {
      "type": "textarea",
      "id": "heading_featured",
      "label": "Title Feature",
      "default": "'"
    },
    {
      "type": "text",
      "id": "heading_end",
      "label": "Title End",
      "default": "s Why You Need Us"
    },
    {
      "type": "richtext",
      "id": "sub_text",
      "label": "Sub Text",
      "default": "<p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Corrupti, veniam.</p>"
    },
    {
      "type": "header",
      "content": "Desktop Settings"
    },
    {
      "type": "range",
      "id": "desktop_margin_top",
      "label": "Margin Top (Desktop)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "desktop_margin_bottom",
      "label": "Margin Bottom (Desktop)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "header",
      "content": "Mobile Settings"
    },
    {
      "type": "range",
      "id": "mobile_margin_top",
      "label": "Margin Top (Mobile)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 20,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "mobile_margin_bottom",
      "label": "Margin Bottom (Mobile)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 20,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "name": "Feature",
      "type": "feature",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Why You Need Us Smm",
      "settings": {}
    }
  ]
}
{% endschema %}
